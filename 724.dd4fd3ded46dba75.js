"use strict";(self.webpackChunklittle_india_UI_app=self.webpackChunklittle_india_UI_app||[]).push([[724],{8724:(w,p,i)=>{i.r(p),i.d(p,{DashboardModule:()=>U});var d=i(6895),u=i(1635);class c{constructor(){this.dailyAverage=0,this.weeklyAverage=0,this.monthlyAverage=0,this.lastMonthDays=0,this.lastWeekDays=0,this.lastEntry="",this.lastEntryDays=0,this.totalRecords=0,this.totalSale=0,this.dailySaleDayDistribution=[],this.dailySaleMonthDistribution=[],this.dailySalePlatformDistribution=[],this.dailySalePaymentMethodDistribution=[],this.dailySaleSaleTypeDistribution=[]}}var b=i(673),t=i(4650),D=i(9057),y=i(6037);let v=(()=>{class e{constructor(s){this.http=s}getDashboard(){return this.http.get(D.b.getDashboard,!0)}static#t=this.\u0275fac=function(a){return new(a||e)(t.LFG(y.L))};static#a=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var g=i(4800);let f=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#a=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-dashboard-top"]],inputs:{dbData:"dbData"},decls:24,vars:12,consts:[[1,"row","mt-0"],[1,"col-12"],[1,"row"],[1,"col-6"],[1,"total-sale-box"],[1,"col-12","text-center","total-sale-value","larger"],[1,"col-12","text-center","total-label","regular"],[1,"col-3"],[1,"total-box"],[1,"col-12","text-center","total-value","large"]],template:function(a,o){if(1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),t._uU(6),t.ALo(7,"number"),t.qZA(),t.TgZ(8,"label",6),t._uU(9,"Total Sale"),t.qZA()()(),t.TgZ(10,"div",7)(11,"div",8)(12,"h1",9),t._uU(13),t.ALo(14,"number"),t.qZA(),t.TgZ(15,"label",6),t._uU(16,"This Month"),t.qZA()()(),t.TgZ(17,"div",7)(18,"div",8)(19,"h1",9),t._uU(20),t.ALo(21,"number"),t.qZA(),t.TgZ(22,"label",6),t._uU(23,"This Week"),t.qZA()()()()()()),2&a){let h,n;t.xp6(6),t.Oqu(t.xi3(7,3,o.dbData.totalSale,"1.0-0")),t.xp6(7),t.hij("",t.xi3(14,6,null!==(h=o.dbData.thisMonth)&&void 0!==h?h:0,"1.0-0")," "),t.xp6(7),t.hij("",t.xi3(21,9,null!==(n=o.dbData.thisWeek)&&void 0!==n?n:0,"1.0-0")," ")}},dependencies:[d.JJ],styles:[".total-sale-box[_ngcontent-%COMP%], .total-box[_ngcontent-%COMP%]{background-color:transparent}.total-sale-value[_ngcontent-%COMP%]{color:#054b7c;font-weight:500}.total-value[_ngcontent-%COMP%]{color:#08687e;font-weight:200}.total-label[_ngcontent-%COMP%]{color:#000;font-weight:100;font-size:1rem}"]})}return e})();var r=i(7020),m=i(3184),l=i(2873);let C=(()=>{class e{constructor(s,a){this.colorService=s,this.graphService=a,this.paymentChart=new r.kL}ngOnInit(){this.loadPaymentChart()}loadPaymentChart(){let s=this.dbData.dailySalePaymentMethodDistribution.map(o=>({name:o.paymentMethod,y:o.amount,color:this.colorService.getPaymentColor(o.paymentMethod)})),a=this.dbData.dailySalePaymentMethodDistribution.map(o=>o.paymentMethod);this.paymentChart=this.graphService.getBarChart(s,a,"Payment","Sale",350)}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(m.A),t.Y36(l.M))};static#a=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-dashboard-payment-graph"]],inputs:{dbData:"dbData"},decls:1,vars:1,consts:[[1,"column",3,"chart"]],template:function(a,o){1&a&&t._UZ(0,"div",0),2&a&&t.Q6J("chart",o.paymentChart)},dependencies:[r.Dm]})}return e})(),S=(()=>{class e{constructor(s,a){this.colorService=s,this.graphService=a,this.saleTypeChart=new r.kL}ngOnInit(){this.loadSaleTypeChart()}loadSaleTypeChart(){let s=this.dbData.dailySaleSaleTypeDistribution.map(o=>({name:o.saleType,y:o.amount,color:this.colorService.getSaleTypeColor(o.saleType)})),a=this.dbData.dailySaleSaleTypeDistribution.map(o=>o.saleType);this.saleTypeChart=this.graphService.getBarChart(s,a,"Sale","Sale",350)}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(m.A),t.Y36(l.M))};static#a=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-dashboard-sale-type-graph"]],inputs:{dbData:"dbData"},decls:1,vars:1,consts:[[1,"column",3,"chart"]],template:function(a,o){1&a&&t._UZ(0,"div",0),2&a&&t.Q6J("chart",o.saleTypeChart)},dependencies:[r.Dm]})}return e})(),T=(()=>{class e{constructor(s){this.graphService=s,this.platformChart=new r.kL}ngOnInit(){this.loadPlatformChart()}loadPlatformChart(){let s=this.dbData.dailySalePlatformDistribution.map(n=>n.platform),a=this.dbData.dailySalePlatformDistribution.map(n=>({y:n.amount,color:"#6167C7"})),o=0;a.forEach(n=>{o+=n.y}),this.platformChart=this.graphService.getBarChart(a,s,"Platform","Sale",350)}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(l.M))};static#a=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-dashboard-platform-graph"]],inputs:{dbData:"dbData"},decls:1,vars:1,consts:[[1,"column",3,"chart"]],template:function(a,o){1&a&&t._UZ(0,"div",0),2&a&&t.Q6J("chart",o.platformChart)},dependencies:[r.Dm]})}return e})(),Z=(()=>{class e{constructor(s){this.graphService=s,this.dayWiseChart=new r.kL}ngOnInit(){this.loadDayWiseChart()}loadDayWiseChart(){let s=this.dbData.dailySaleDayDistribution.map(o=>o.day),a=this.dbData.dailySaleDayDistribution.map(o=>({y:o.amount,color:"#009CBF"}));this.dayWiseChart=this.graphService.getLineChart(a,s,"Day Wise Sale","Sale",350)}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(l.M))};static#a=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-dashboard-day-graph"]],inputs:{dbData:"dbData"},decls:1,vars:1,consts:[[1,"column",3,"chart"]],template:function(a,o){1&a&&t._UZ(0,"div",0),2&a&&t.Q6J("chart",o.dayWiseChart)},dependencies:[r.Dm]})}return e})(),M=(()=>{class e{constructor(s){this.graphService=s,this.monthWiseChart=new r.kL}ngOnInit(){this.loadMonthWiseChart()}loadMonthWiseChart(){let s=this.dbData.dailySaleMonthDistribution.map(o=>o.month.substring(5,8)),a=this.dbData.dailySaleMonthDistribution.map(o=>({y:o.amount,color:"#009CBF"}));this.monthWiseChart=this.graphService.getLineChart(a,s,"Month Wise Sale","Sale",350)}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(l.M))};static#a=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-dashboard-month-graph"]],inputs:{dbData:"dbData"},decls:1,vars:1,consts:[[1,"column",3,"chart"]],template:function(a,o){1&a&&t._UZ(0,"div",0),2&a&&t.Q6J("chart",o.monthWiseChart)},dependencies:[r.Dm]})}return e})();function x(e,W){if(1&e&&(t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),t._UZ(4,"app-dashboard-top",5),t.qZA()(),t.TgZ(5,"div",6)(6,"div",7),t._UZ(7,"app-dashboard-payment-graph",5),t.qZA(),t.TgZ(8,"div",7),t._UZ(9,"app-dashboard-sale-type-graph",5),t.qZA(),t.TgZ(10,"div",8),t._UZ(11,"app-dashboard-platform-graph",5),t.qZA()(),t.TgZ(12,"div",6)(13,"div",9),t._UZ(14,"app-dashboard-day-graph",5),t.qZA(),t.TgZ(15,"div",10),t._UZ(16,"app-dashboard-month-graph",5),t.qZA()()()()),2&e){const s=t.oxw();t.xp6(4),t.Q6J("dbData",s.dbData),t.xp6(3),t.Q6J("dbData",s.dbData),t.xp6(2),t.Q6J("dbData",s.dbData),t.xp6(2),t.Q6J("dbData",s.dbData),t.xp6(3),t.Q6J("dbData",s.dbData),t.xp6(2),t.Q6J("dbData",s.dbData)}}const A=[{path:"",component:(()=>{class e{constructor(s,a){this.dashboardService=s,this.authDataService=a,this.dbData=new c,this.isLoaded=!1}ngOnInit(){this.loadData()}loadData(){this.dbData=new c,this.isLoaded=!1,this.apiSubscription=this.dashboardService.getDashboard().subscribe(s=>{s.response?.status==b.s.success?(this.dbData=s.item.dailySaleData,this.isLoaded=!0):alert(s.response?.message)})}ngOnDestroy(){this.apiSubscription?.unsubscribe()}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(v),t.Y36(g.p))};static#a=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-dashboard"]],decls:1,vars:1,consts:[["class","row","style","color: #7AB3C5;border-radius:0 0 30px 30px;",4,"ngIf"],[1,"row",2,"color","#7AB3C5","border-radius","0 0 30px 30px"],[1,"col-12"],[1,"row"],[1,"col-12","right-border","py-2"],[3,"dbData"],[1,"row","mt-2"],[1,"col-3","p-3"],[1,"col-6","p-3"],[1,"col-5","px-3","pb-3"],[1,"col-7","px-3","pb-3"]],template:function(a,o){1&a&&t.YNc(0,x,17,6,"div",0),2&a&&t.Q6J("ngIf",1==o.isLoaded)},dependencies:[d.O5,f,C,S,T,Z,M]})}return e})()}];let L=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#a=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[u.Bz.forChild(A)]})}return e})();var P=i(2346);let U=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#a=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[d.ez,L,r.SD,P.g]})}return e})()}}]);